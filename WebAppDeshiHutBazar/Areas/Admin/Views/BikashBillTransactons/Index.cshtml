@model WebDeshiHutBazar.PostPriceConfigInformationViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.ExcludeHeader = false;
}

<div class="container">
    <h4 class="main-title">Bikash Transaction Bills</h4>
    @{
        foreach (WebDeshiHutBazar.BikashBillTransactonViewModel item in Model.ListBikasdhBill.ToList())
        {
            if (item.UserOrderModel != null)
            {
                @Html.Partial("../../Areas/Admin/Views/BikashBillTransactons/_SingleOrderDetails", (WebDeshiHutBazar.UserOrderViewModel)item.UserOrderModel)
            }
        }
    }
    <table class="new">
        <thead>
            <tr>
                <th>
                    Entry Date
                </th>
                <th>
                    Agent Number
                </th>
                <th>
                    Transaction Number
                </th>

                <th>
                    Paid Amount &nbsp; (@Model.Currency)
                </th>

                <th>
                    Admin Approval Status
                </th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.ListBikasdhBill.ToList())
            {
                <tr>
                    <td data-label="EntryDateTime">
                        @Html.DisplayFor(modelItem => item.EntryDateTime)
                    </td>
                    <td data-label="AgentNumber">
                        @Html.DisplayFor(modelItem => item.AgentNumber)
                    </td>
                    <td data-label="TransactionNumber">
                        @Html.DisplayFor(modelItem => item.TransactionNumber)
                    </td>
                    <td data-label="PaidAmount)">
                        @Html.DisplayFor(modelItem => item.FormattedPaidAmountValue)
                    </td>
                    <td data-label="AdminApprovalStatus"
                        class="text-success">
                        @if (item.AdminApprovalStatus == Common.EnumTransactionStatus.AdminApproved)
                        {
                            <b class="text-success">
                                @Html.DisplayFor(modelItem => item.AdminApprovalStatus)
                            </b>
                        }
                        else
                        {
                            <b class="text-danger">
                                @Html.DisplayFor(modelItem => item.AdminApprovalStatus)
                            </b>
                        }
                    </td>
                    <td data-label="Approval">
                        @if (item.AdminApprovalStatus != Common.EnumTransactionStatus.AdminApproved)
                        {
                            <a class="primary-button small flex"
                               href="@Url.Action("Edit", "BikashBillTransactons", new {id = item.BikashBillId})">
                                APPROVE
                            </a>
                        }
                    </td>
                    <td data-label="Order Details">
                        @if (item.UserOrderID != 0)
                        {
                            <a id="btnViewPackage-@item.UserOrderID"
                               data-toggle="modal"
                               class="light-button small flex"
                               data-target="#modal-@item.UserOrderID">
                                &nbsp;&nbsp;ORDER DETAILS&nbsp;&nbsp;&nbsp;&nbsp;
                            </a>
                        }
                        else
                        {
                            <a id="btnViewPackage-@item.UserOrderID"
                               data-toggle="modal"
                               class="light-button small flex">
                                CREDIT RECHARGE
                            </a>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>


@section scriptsapp {
    <script type="text/javascript">
        PAGE_NAME = 'Bikash Transaction List';
    </script>
    <script src="~/Scripts/js/UserSession/naimul.letitgo.user.session.js" type="text/javascript"></script>
}




