@model WebDeshiHutBazar.ManagePostViewModel
@{
    ViewBag.Title = Common.Language.LanguageDefault.ViewBagTitleMyPublishedPosts;
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.ExcludeHeader = false;
    var guid = Guid.NewGuid();
}
<script type="text/javascript">
    var imgload1url = '@Url.Action("ImageLoad", "Post")';
    var imgupload1url = '@Url.Action("ImageUpload", "Post")';
    var editpostbyidurl = '@Url.Action("EditPostByPostId", "ManagePost")';
    var viewpostbyidurl = '@Url.Action("ViewPostByPostId", "ManagePost")';
    var updateposturl = '@Url.Action("UpdatePost", "ManagePost")';
    var deletepostbyidurl = '@Url.Action("DeletePostByPostId", "ManagePost")';
    var getsubcategoriesurl = '@Url.Action("GetSubCategories", "ManagePost")';
    var manageposturl = '@Url.Action("ManagePost", "ManagePost")';
    var getcategorytexturl = '@Url.Action("GetCategoryText", "ManagePost")';
</script>
<div id="top" class="container">
    <h4 class="main-title">@Common.Language.LanguageDefault.MyPublishedAds</h4>
    @if (Model.ListPostViewModel != null && Model.ListPostViewModel.Count > 0)
    {
        foreach (var item in Model.ListPostViewModel)
        {
            @Html.Partial("../../Areas/Advertizer/Views/ManagePost/_SinglePostPanel", item)
        }
        @Html.EditorFor(a => a.PageingModelAll, "Paging")
    }
    </div>
@section scriptsapp {
    <script type="text/javascript">
        PAGE_NAME = '@Model.PageName';
        $(function () {
            $(document).on("click", "a.sell-or-rent", function () {
                $(this).closest(".sell-rent-parent").find(".sell-or-rent").removeClass("btn-info").addClass("btn-default");
                $(this).removeClass("btn-default").addClass("btn-info");

                $(this).closest(".sell-rent-parent").find(".sell-or-rent").data("isselected", "False");
                var postID = $(this).data("valueid");

                if ($(this).hasClass("sell")) {
                    $("#txtRent-" + postID).hide();
                    $("#txtSell-" + postID).show();
                    $(this).data("isselected", "True");
                }
                else if ($(this).hasClass("rent")) {
                    $("#txtSell-" + postID).hide();
                    $("#txtRent-" + postID).show();
                    $(this).data("isselected", "True");
                }
            });

            $(document).on("click", "a.urgent-deal", function () {
                var postID = $(this).data("valueid");
                $(this).closest(".urgent-deal-parent").find(".urgent-deal").removeClass("btn-info").addClass("btn-default");
                $(this).removeClass("btn-default").addClass("btn-info");

                $(this).closest(".urgent-deal-parent").find(".urgent-deal").data("isselected", "False");
                var postID = $(this).data("valueid");

                if ($(this).hasClass("urgent")) {
                    $("#txtNotUrgentDeal-" + postID).hide();
                    $("#txtUrgentDeal-" + postID).show();
                    $(this).data("isselected", "True");
                }
                else if ($(this).hasClass("noturgent")) {
                    $("#txtUrgentDeal-" + postID).hide();
                    $("#txtNotUrgentDeal-" + postID).show();
                    $(this).data("isselected", "True");
                }
            });

            $(document).on("click", "a.new-used", function () {
                var postID = $(this).data("valueid");
                $(this).closest(".new-used-parent").find(".new-used").removeClass("btn-info").addClass("btn-default");
                $(this).removeClass("btn-default").addClass("btn-info");

                $(this).closest(".new-used-parent").find(".new-used").data("isselected", "False");

                if ($(this).hasClass("new")) {
                    $("#txtUsed-" + postID).hide();
                    $("#txtNew-" + postID).show();
                    $(this).data("isselected", "True");
                }
                else if ($(this).hasClass("used")) {
                    $("#txtNew-" + postID).hide();
                    $("#txtUsed-" + postID).show();
                    $(this).data("isselected", "True");
                }
            });


            $(document).on("click", ".btn-remove-image", function () {
                var that = this;
                var id = $(that).data("id");
                var rem = $(that).closest(".image-content");
                $(rem).remove();
                $.ajax({
                    url: '@Url.Action("ImageRemove", "ManagePost")?id=' + id,
                    type: 'GET',
                    dataType: 'json',
                    contentType: 'application/json; charset=utf-8',
                    error: function (xhr) {
                    },
                    success: function (categorytext) {
                    },
                    processData: false,
                    cache: false
                });
            });
        });


    </script>
    <script src="~/Scripts/js/naimul.ui.editor.phone.js" type="text/javascript"></script>
    <script src="~/Scripts/js/naimul.ui.editor.price.js" type="text/javascript"></script>
    <script src="~/Scripts/js/naimul.ui.validation.js" type="text/javascript"></script>
    <script src="~/Scripts/ajaxupload.js" type="text/javascript"></script>
    <script src="~/Scripts/js/LetItGo/naimul.letitgo.managepost.js" type="text/javascript"></script>
    <script src="~/Scripts/js/UserSession/naimul.letitgo.user.session.js" type="text/javascript"></script>
}



